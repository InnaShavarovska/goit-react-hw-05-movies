{"version":3,"file":"static/js/477.c18318a5.chunk.js","mappings":"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","sources":["components/Back.jsx","pages/MoviesDetails/MoviesDetails.jsx","services/api.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { HiArrowNarrowLeft } from 'react-icons/hi';\nimport { PropTypes } from 'prop-types';\n\nfunction Back({ to, children }) {\n  return (\n    <Link to={to}>\n      <HiArrowNarrowLeft size=\"18\" />\n      {children}\n    </Link>\n  );\n}\n\nBack.propTypes = {\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  children: PropTypes.node,\n};\nexport default Back;\n","import { useState, useEffect, Suspense } from 'react';\nimport Back from '../../components/Back';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { fetchFilmById } from '../../services/api';\nimport Notiflix from 'notiflix';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from '../../components/Loader';\nimport { useRef } from 'react';\n\nfunction MovieDetails() {\n  const { movieId } = useParams();\n  const [film, setFilm] = useState({});\n\n  const location = useLocation();\n  const back = useRef(location.state?.from ?? '/home');\n\n  useEffect(() => {\n    fetchFilmById(movieId)\n      .then(result => setFilm(result))\n      .catch(() =>\n        Notiflix.Notify.failure(\n          'Sorry, there are any information about this film'\n        )\n      );\n  }, [movieId]);\n\n  const { poster_path, title, userScore, overview, genres } = film;\n\n  return (\n    <section>\n      <Back to={back.current}>Back</Back>\n      <div>\n        <img src={poster_path} alt={title} />\n        <div>\n          <h2>{title}</h2>\n          <p>{`User score: ${userScore}`}</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <p>{genres}</p>\n        </div>\n      </div>\n      <div>\n        <p>Additional information</p>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </div>\n    </section>\n  );\n}\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst KEY = '7d142b3bdc4d1fae6fc3c3157fc8a204';\nconst URL = 'https://api.themoviedb.org/3';\nconst imgURL = 'https://image.tmdb.org/t/p/w500';\nconst smallImgURL = 'https://image.tmdb.org/t/p/w200';\n\nconst fetchFilms = async (filmName, page = 1) => {\n  const request = filmName\n    ? `${URL}/search/movie?api_key=${KEY}&language=en-US&query=${filmName}&page=${page}`\n    : `${URL}/trending/all/day?api_key=${KEY}&page=${page}`;\n\n  const response = await axios.get(request);\n  const info = results => {\n    return results\n      .filter(\n        ({ poster_path, genre_ids, title, original_title }) =>\n          poster_path && genre_ids && (title || original_title)\n      )\n      .map(({ id, title, original_title }) => ({\n        id,\n        title: title ? title : original_title,\n      }));\n  };\n\n  return info(response.data.results);\n};\n\nconst fetchFilmById = async filmId => {\n  const response = await axios.get(\n    `${URL}/movie/${filmId}?api_key=${KEY}&language=en-US`\n  );\n  const {\n    genres,\n    id,\n    poster_path,\n    release_date = '',\n    title,\n    vote_average,\n    overview,\n  } = response.data;\n\n  return {\n    id,\n    poster_path: `${imgURL}${poster_path}`,\n    title: `${title} (${release_date.slice(0, 4)})`,\n    userScore: `${Math.round(vote_average * 10)}%`,\n    overview,\n    genres: genres.map(genre => genre.name).join(' '),\n  };\n};\n\nconst fetchCastFilmById = async filmId => {\n  const response = await axios.get(\n    `${URL}/movie/${filmId}/credits?api_key=${KEY}&language=en-US`\n  );\n  const { cast } = response.data;\n\n  return cast.map(({ id, name, profile_path, character }) => ({\n    id,\n    name,\n    character,\n    photo: profile_path ? `${smallImgURL}${profile_path}` : null,\n  }));\n};\n\nconst fetchReviewsFilmById = async (filmId, page = 1) => {\n  const response = await axios.get(\n    `${URL}/movie/${filmId}/reviews?api_key=${KEY}&language=en-US&page=${page}`\n  );\n  const { results } = response.data;\n\n  return results.map(({ id, author, content }) => ({ id, author, content }));\n};\n\nexport { fetchFilms, fetchFilmById, fetchCastFilmById, fetchReviewsFilmById };\n"],"names":["to","children","size","movieId","useParams","useState","film","setFilm","location","useLocation","back","useRef","state","from","useEffect","fetchFilmById","then","result","catch","Notiflix","poster_path","title","userScore","overview","genres","current","src","alt","Suspense","fallback","Loader","KEY","URL","fetchFilms","filmName","page","request","axios","response","info","results","filter","genre_ids","original_title","map","id","data","filmId","release_date","vote_average","slice","Math","round","genre","name","join","fetchCastFilmById","cast","profile_path","character","photo","fetchReviewsFilmById","author","content"],"sourceRoot":""}